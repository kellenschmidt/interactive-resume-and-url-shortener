<div class="table-container mat-elevation-z3 container p-0">

  <div class="table-header">
    <md-input-container>
      <input mdInput #filter placeholder="Filter by long URL or short URL code">
    </md-input-container>
  </div>

  <md-table #table [dataSource]="dataSource" mdSort>

    <ng-container cdkColumnDef="long_url">
      <md-header-cell *cdkHeaderCellDef md-sort-header>Long URL</md-header-cell>
      <md-cell *cdkCellDef="let row" class="long-url">
        <a href="{{row.long_url}}" target="_blank" rel="noopener">{{row.long_url}}</a>
      </md-cell>
    </ng-container>

    <ng-container cdkColumnDef="date_created" id="date-column">
      <md-header-cell *cdkHeaderCellDef md-sort-header>Date Created</md-header-cell>
      <md-cell *cdkCellDef="let row"> {{row.date_created | date:'mediumDate'}} </md-cell>
    </ng-container>

    <ng-container cdkColumnDef="code">
      <md-header-cell *cdkHeaderCellDef md-sort-header>
        <span class="hidden-sm-down">Short&nbsp;</span>URL<span class="hidden-md-up">&nbsp;code</span>
      </md-header-cell>
      <md-cell *cdkCellDef="let row">
        <a routerLink="/{{row.code}}" target="_blank" rel="noopener"><span class="hidden-sm-down">kellenschmidt.com/</span>{{row.code}}</a>
        <a class="copy-btn" (click)="this.copy(row.code)" mdTooltip="Copy short URL"><i class="fa fa-clone"></i></a>
      </md-cell>
    </ng-container>

    <ng-container cdkColumnDef="count">
      <md-header-cell *cdkHeaderCellDef md-sort-header>Count</md-header-cell>
      <md-cell *cdkCellDef="let row" class="justify-content-between">
        {{row.count}}
        <a md-icon-button [mdMenuTriggerFor]="menu" class="menu-btn">
          <i class="fa fa-ellipsis-v"></i>
        </a>
        <md-menu #menu="mdMenu">
          <button md-menu-item (click)="hideLink(row.code)">
            <span>Hide URL</span>
            <i class="fa fa-eye-slash ml-2"></i>
          </button>
        </md-menu>
      </md-cell>
    </ng-container>

    <md-header-row *cdkHeaderRowDef="displayedColumns"></md-header-row>
    <md-row *cdkRowDef="let row; columns: displayedColumns;"></md-row>
  </md-table>

  <md-paginator #paginator
                [length]="tableDatabase.data.length"
                [pageIndex]="0"
                [pageSize]="7"
                [pageSizeOptions]="[5, 10, 25, 100]">
  </md-paginator>
</div>